(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,a){e.exports=a(43)},42:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(6),o=a.n(l),c=a(4),u="FETCH_DATA_LOADING",i="FETCH_DATA_SUCCESS",s="FETCH_DATA_ERROR",d="ADD_USER",b="SET_USER_ID",m="ADD_HOBBY",v="DELETE_HOBBY",p=a(14),h=a(2),E={data:[],isError:!1,isLoading:!1,activeUser:null};var f=function(e){return null===e.users.activeUser?[]:e.users.data.find(function(t){return t.id===e.users.activeUser}).hobbies},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(h.a)({},e,{isError:!1,isLoading:!0});case i:return Object(h.a)({},e,{isLoading:!1,data:t.payload});case s:return Object(h.a)({},e,{isLoading:!1,isError:!0});case d:return Object(h.a)({},e,{data:[t.payload].concat(Object(p.a)(e.data))});case b:return Object(h.a)({},e,{activeUser:t.payload});case m:return Object(h.a)({},e,{data:e.data.map(function(a){return a.id!==e.activeUser?a:Object(h.a)({},a,{hobbies:[].concat(Object(p.a)(a.hobbies),[t.payload])})})});case v:return Object(h.a)({},e,{data:e.data.map(function(a){if(a.id!==e.activeUser)return a;var n=a.hobbies.filter(function(e){return e.id!==t.payload});return Object(h.a)({},a,{hobbies:n})})});default:return e}},g=a(1),C=a(10),O=a.n(C),j=function(e){var t=e.onClick,a=e.disabled;return r.a.createElement("button",{className:"AddButton",onClick:t,disabled:a},"Add")},H=function(e){var t=e.value,a=e.onChange,n=e.placeholder;return r.a.createElement("input",{className:"Input",type:"text",value:t,onChange:a,placeholder:n})},D=Object(c.b)(null,{addUser:function(e){var t=e.id,a=e.name,n=e.hobbies;return function(e){e({type:d,payload:{id:t,name:a,hobbies:n}})}}})(function(e){var t=e.addUser,a=Object(n.useState)(""),l=Object(g.a)(a,2),o=l[0],c=l[1];return r.a.createElement("form",{className:"Cell Cell--input",onSubmit:function(e){e.preventDefault(),t({id:O.a.generate(),name:o,hobbies:[]}),c("")}},r.a.createElement(H,{value:o,onChange:function(e){return c(e.target.value)},placeholder:"Enter user name"}),r.a.createElement(j,null))}),N=function(e){var t=e.data,a=e.setUserId,n=e.userId;return r.a.createElement("div",{className:"UserColumn"},r.a.createElement(D,null),t.map(function(e){return r.a.createElement("div",{key:e.id,className:"Cell".concat(e.id===n?" Cell--selected":""),onClick:function(){return a(e.id)}},e.name)}))},S=a(18),U=a(19),k=a(24),w=a(20),x=a(23),I=document.getElementById("portal"),A=function(e){function t(){var e;return Object(S.a)(this,t),(e=Object(k.a)(this,Object(w.a)(t).call(this))).el=document.createElement("div"),e}return Object(x.a)(t,e),Object(U.a)(t,[{key:"componentDidMount",value:function(){I.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){I.removeChild(this.el)}},{key:"render",value:function(){var e=this.props.children;return o.a.createPortal(e,this.el)}}]),t}(n.Component),L=function(e){var t=e.on,a=e.children;return r.a.createElement(A,null,t&&r.a.createElement("div",{role:"button",className:"Modal"},r.a.createElement("div",null,a)))},_=function(e){var t=e.value,a=e.onChange,n=e.placeholder,l=e.options,o=""===t;return r.a.createElement("select",{className:"Input ".concat(o?"Input--empty":""),value:t,onChange:a},r.a.createElement("option",{disabled:!0,value:""},n),l.map(function(e){return r.a.createElement("option",{key:e.value,value:e.value,className:"Input_option"},e.text)}))},B=Object(c.b)(null,{addHobby:function(e){var t=e.id,a=e.level,n=e.text,r=e.year;return function(e){e({type:m,payload:{id:t,level:a,text:n,year:r}})}}})(function(e){var t=e.addHobby,a=Object(n.useState)(""),l=Object(g.a)(a,2),o=l[0],c=l[1],u=Object(n.useState)(""),i=Object(g.a)(u,2),s=i[0],d=i[1],b=Object(n.useState)(""),m=Object(g.a)(b,2),v=m[0],p=m[1];return r.a.createElement("form",{className:"HobbyCell HobbyCell--input",onSubmit:function(e){e.preventDefault(),t({id:O.a.generate(),level:o,text:s,year:v}),c(""),d(""),p("")}},r.a.createElement(_,{value:o,onChange:function(e){return c(e.target.value)},placeholder:"Select passion level",options:[{value:"Low",text:"Low"},{value:"Medium",text:"Medium"},{value:"High",text:"High"},{value:"Very-High",text:"Very-High"}]}),r.a.createElement(H,{value:s,onChange:function(e){return d(e.target.value)},placeholder:"Enter user hobby"}),r.a.createElement(H,{value:v,onChange:function(e){return p(e.target.value)},placeholder:"Enter year"}),r.a.createElement(j,null))}),T=function(e){var t=e.children,a=e.onClick,n=e.variant,l=e.type,o={success:"Button--success",danger:"Button--danger"}[n];return r.a.createElement("button",{type:l||"button",className:"Button ".concat(o),onClick:a},t)},M=function(e){var t=e.onDelete,a=e.onClose,n=e.text;return r.a.createElement("div",{className:"DeleteModal"},r.a.createElement("h2",null,n),r.a.createElement(T,{type:"button",variant:"danger",onClick:t},"Delete"),r.a.createElement(T,{type:"button",onClick:a},"Cancel"))},R=function(e){var t=e.hobbies,a=e.onDelete,l=e.isUserSelected,o=Object(n.useState)(!1),c=Object(g.a)(o,2),u=c[0],i=c[1],s=Object(n.useState)(""),d=Object(g.a)(s,2),b=d[0],m=d[1],v=Object(n.useState)(""),p=Object(g.a)(v,2),h=p[0],E=p[1],f=function(){return i(!1)};return l?r.a.createElement("div",{className:"HobbyColumn"},r.a.createElement(B,null),0===t.length&&r.a.createElement("h2",null,"No hobbies yet"),t.map(function(e){return r.a.createElement("div",{className:"HobbyCell",key:e.id},r.a.createElement("div",{className:"HobbyCell-passion"},"Passion: ",e.level),r.a.createElement("div",{className:"HobbyCell-hobby"},e.text),r.a.createElement("div",{className:"HobbyCell-since"},"Since ",e.year),r.a.createElement("button",{className:"HobbyCell-delete",onClick:function(){return t=e.id,a=e.text,m(t),E(a),void i(!0);var t,a}},"x"))}),r.a.createElement(L,{on:u},r.a.createElement(M,{onClose:f,onDelete:function(){f(),a(b)},text:"Are you sure you want to delete hobby ".concat(h,"?")}))):r.a.createElement("div",{className:"HobbyColumn HobbyColumn--empty"},r.a.createElement("h2",null,"Please select a user"))};var W=Object(c.b)(function(e){return{data:e.users.data,isLoading:e.users.isLoading,isError:e.users.isError,userId:e.users.activeUser,hobbies:f(e)}},{fetchData:function(){return function(e){e({type:u}),fetch("https://next.json-generator.com/api/json/get/4Joo4bp38").then(function(e){return e.json()}).then(function(t){return e({type:i,payload:t})}).catch(function(t){return e({type:s,payload:t})})}},setUserId:function(e){return function(t){t({type:b,payload:e})}},deleteHobby:function(e){return function(t){t({type:v,payload:e})}}})(function(e){var t=e.fetchData,a=e.data,r=e.isLoading,l=e.isError,o=e.userId,c=e.setUserId,u=e.hobbies,i=e.deleteHobby;return n.useEffect(function(){t()},[]),r?n.createElement("h1",null,"Loading..."):l?n.createElement("h1",null,"Something goes wrong, try to reload the page"):n.createElement("div",{className:"App"},n.createElement("h1",null,"User hobbies"),n.createElement("div",{className:"Table"},n.createElement(N,{data:a,setUserId:c,userId:o}),n.createElement(R,{isUserSelected:null!==o,hobbies:u,onDelete:i})))}),F=a(3),J=Object(F.combineReducers)({users:y}),P=a(21),V=[a(22).a],Y=Object(F.createStore)(J,{},Object(P.composeWithDevTools)(F.applyMiddleware.apply(void 0,V)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(42);o.a.render(r.a.createElement(c.a,{store:Y},r.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[25,1,2]]]);
//# sourceMappingURL=main.d9ac1d9d.chunk.js.map